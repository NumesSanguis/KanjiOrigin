#:kivy 1.9.1

#<ActionLabel@ActionItem+Label>:
#    text_size: self.width - dp(6), self.height
#    halign: 'center'
#    valign: 'middle'
#    minimum_width: '60sp'


<KanjiOriginScreen>:
    ScrollView:
        do_scroll_x: False
        do_scroll_y: False if root.fullscreen else (content.height > root.height - dp(16))
        AnchorLayout:
            size_hint_y: None
            height: root.height if root.fullscreen else max(root.height, content.height)
            GridLayout:
                id: content
                cols: 1
                spacing: '16dp'
                padding: '8dp'
                size_hint: (1, 1) if root.fullscreen else (.8, None)
                height: self.height if root.fullscreen else self.minimum_height


BoxLayout:
    orientation: 'vertical'

    canvas.before:
        Color:
            rgb: .6, .6, .6
        Rectangle:
            size: self.size
            source: 'data/background.png'

    #BoxLayout:
    #    size: self.size
    #    orientation: 'horizontal'

    ActionBar:

        ActionView:
            id: av

            ActionPrevious:
                id: actp
                #app_icon: 'path/' #App icon
                with_previous: (False if sm.current_screen.name == 'MainMenu' else True) if sm.current_screen else False
                title: ('Home' if not sm.current_screen.name == 'MainMenu' else '') if sm.current_screen else ''
                # 'Home' + ('' if not app.current_title else ' - {}'.format(app.current_title))
                on_release: if not sm.current_screen.name == 'MainMenu': app.go_screen(0)

#            ActionSeparator:
#                # Label:
#                id:lbl1
#                text: "Now: {}".format(app.actionbar_status[0])
#
#            ActionSeparator:
#                id:lbl2
#                text: "Forgot: {}".format(app.actionbar_status[1])
#
#            ActionSeparator:
#                id:lbl3
#                text: "Left: {}".format(app.actionbar_status[2])

    ScreenManager:
        id: sm
        on_current_screen:
            idx = app.screen_names.index(args[1].name)
